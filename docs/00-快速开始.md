# SeaTunnelX 快速开始（用户版）

这是一份面向最终用户的启动文档，默认按“单二进制一键启动”说明。  
如果你拿到的是正式发布包，按第 2 章即可；如果当前还是内测包，按第 7 章临时方式启动。

---

## 1. 你会得到什么

标准发布形态（目标形态）：

- 一个可执行文件（Windows: `seatunnelX.exe`，Linux/macOS: `seatunnelX`）
- 一个配置文件（`config.yaml`）
- 首次启动自动初始化本地数据库（默认 SQLite）

你需要做的事只有三步：  
`改配置 -> 启动 -> 打开浏览器登录`

---

## 2. 一键启动（正式发布包）

## 2.1 解压发布包

将发布包解压到任意目录，例如：

- Windows: `D:\SeaTunnelX`
- Linux/macOS: `/opt/seatunnelx`

目录内至少应包含：

- `seatunnelX.exe` 或 `seatunnelX`
- `config.yaml`

## 2.2 修改最少配置

打开 `config.yaml`，至少确认这 3 项：

1. `app.addr`：服务监听地址（例如 `:8000`）
2. `app.external_url`：其他机器访问平台用的地址（例如 `http://10.0.0.8:8000`）
3. `auth.default_admin_password`：初始化管理员密码（建议首次即修改）

## 2.3 启动服务

Windows（双击或命令行）：

```powershell
.\seatunnelX.exe api
```

Linux/macOS：

```bash
chmod +x ./seatunnelX
./seatunnelX api
```

说明：

- 若你的发行包提供了 `start.bat` 或 `start.sh`，优先使用脚本启动。
- 当前程序运行模式中，`api` 为主服务入口。

## 2.4 打开系统

浏览器访问：

- `http://<你的服务器IP>:8000`

首次登录：

- 用户名：`admin`
- 密码：`config.yaml` 中 `auth.default_admin_password` 的值

---

## 3. 启停与重启

## 3.1 停止服务

- 当前终端直接 `Ctrl + C`
- 或系统服务管理器（如果你注册为系统服务）

## 3.2 重启服务

1. 停止旧进程
2. 替换二进制（升级时）
3. 重新执行启动命令

---

## 4. 首次上线建议（生产）

1. 立即修改默认管理员密码
2. 将 `app.external_url` 配置为真实可访问地址
3. 放行端口（默认 HTTP `8000`，gRPC 默认 `9000`）
4. 先用 SQLite 验证，稳定后再切 MySQL/PostgreSQL
5. 开启 HTTPS 反向代理（Nginx/Caddy）再对公网开放

---

## 5. 常见问题

## 5.1 启动报端口占用

现象：`listen tcp :8000: bind ...`

处理：

1. 修改 `config.yaml` 中 `app.addr`（例如 `:18000`）
2. 或停止已占用 8000 端口的进程

## 5.2 页面打不开

检查顺序：

1. 服务是否在运行
2. 防火墙/安全组是否放行端口
3. 访问地址是否使用了正确 IP 和端口

## 5.3 Agent 无法连接

检查：

1. `config.yaml` 的 `app.external_url` 是否可被目标主机访问
2. gRPC 端口（默认 `9000`）是否放行
3. 主机与控制面网络是否可达

---

## 6. 升级方式（用户操作）

1. 备份原目录（至少备份 `config.yaml` 和 `data/`）
2. 停服务
3. 替换二进制文件
4. 保留原有配置并启动
5. 登录后检查主机、集群、插件列表是否正常

---

## 7. 当前未发包时（临时方式）

在“正式单二进制安装包”未发布前，若你拿到的是仓库内测文件，可临时按下述方式使用：

Windows（仓库根目录）：

```powershell
Copy-Item config.example.yaml config.yaml
.\seatunnelX.exe api
```

说明：

- 这是面向内测的临时启动，不代表最终发行包目录结构。
- `scheduler/worker` 仅在你需要异步任务时才额外启动，不是普通用户必需步骤。

---

## 8. 一句话总结

对最终用户来说，SeaTunnelX 的使用方式应当是：  
**下载发布包 -> 改 `config.yaml` -> 启动单二进制 -> 浏览器登录使用**。

